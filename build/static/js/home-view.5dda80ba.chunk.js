(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[2],{34:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return v}));var r=n(37),a=n.n(r),c=n(38),o="9b5febc096912e8933f83f306c054db0",i="https://api.themoviedb.org/3";function s(e){return u.apply(this,arguments)}function u(){return u=Object(c.a)(a.a.mark((function e(t){var n,r,c=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"",e.next=3,fetch("".concat(i).concat(t,"?api_key=").concat(o).concat(n));case 3:if(!(r=e.sent).ok){e.next=10;break}return e.next=7,r.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=Promise.reject(new Error("Not found"));case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(){return s("/trending/movie/week")}function m(e){return s("/search/movie","&query=".concat(e))}function f(e){return s("/movie/".concat(e))}function d(e){return s("/movie/".concat(e,"/credits"))}function v(e){return s("/movie/".concat(e,"/reviews"))}},36:function(e,t,n){"use strict";t.a=n.p+"static/media/cinema-movie.5c8f8c5b.jpg"},39:function(e,t,n){e.exports={Gallery:"gallery_Gallery__LOFCh"}},40:function(e,t,n){e.exports={Item:"galleryItem_Item__1dJ4G",Image:"galleryItem_Image__A6sJe",Title:"galleryItem_Title__3TudR",Link:"galleryItem_Link__3Io9f",Average:"galleryItem_Average__3WQG7"}},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(39),a=n.n(r),c=n(42),o=n(7),i=n(36),s=n(40),u=n.n(s),l=n(1);function m(e){var t=e.movie,n=e.location,r=t.id,a=t.poster_path,s=t.original_title,m=t.vote_average;return Object(l.jsxs)("li",{className:u.a.Item,children:[Object(l.jsxs)(o.b,{className:u.a.Link,to:{pathname:"movies/".concat(r),state:{from:{location:n,label:"back to ".concat("/"===n.pathname?"Home":"/movies"===n.pathname?"Movies":void 0)}}},children:[Object(l.jsx)("img",{alt:"",className:u.a.Image,width:"200px",src:a?"https://image.tmdb.org/t/p/w300".concat(a):i.a}),Object(l.jsx)("p",{className:u.a.Title,children:s})]}),0!==m&&Object(l.jsxs)("p",{className:u.a.Average,children:[Object(l.jsx)(c.a,{}),m]})]})}function f(e){e.status;var t=e.movies,n=e.location;return Object(l.jsx)("ul",{className:a.a.Gallery,children:t.map((function(e){return Object(l.jsx)(m,{location:n,movie:e},e.id)}))})}},65:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var r=n(14),a=n(0),c=n(2),o=n(34),i=n(35),s=n.n(i),u=n(41),l=n(1);function m(){var e,t=Object(a.useState)((function(){var e;return null!==(e=JSON.parse(localStorage.getItem("trendingMovies")))&&void 0!==e?e:null})),n=Object(r.a)(t,2),i=n[0],m=n[1],f=Object(a.useState)("idle"),d=Object(r.a)(f,2),v=d[0],g=d[1],j=Object(c.h)(),b=(new Date).toLocaleDateString(),p=null!==(e=JSON.parse(localStorage.getItem("trendingMoviesDate")))&&void 0!==e?e:"";function h(e){m(e.results),g("resolved"),localStorage.setItem("trendingMovies",JSON.stringify(e.results)),localStorage.setItem("trendingMoviesDate",JSON.stringify(b))}return Object(a.useEffect)((function(){null!==i&&p===b||(g("pending"),o.e().then(h).catch((function(e){return g("reject")})))}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{children:["pending"===v&&Object(l.jsx)(s.a,{type:"ThreeDots",color:"black"}),("resolved"===v||i)&&Object(l.jsx)(u.a,{status:v,movies:i,location:j}),"reject"===v&&Object(l.jsx)("h2",{children:"no results found for request"})]})})}}}]);
//# sourceMappingURL=home-view.5dda80ba.chunk.js.map