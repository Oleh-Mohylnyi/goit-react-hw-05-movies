(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[2],{34:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return g}));var r=n(38),a=n.n(r),c=n(39),i="9b5febc096912e8933f83f306c054db0",o="https://api.themoviedb.org/3";function s(e){return u.apply(this,arguments)}function u(){return u=Object(c.a)(a.a.mark((function e(t){var n,r,c=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"",e.next=3,fetch("".concat(o).concat(t,"?api_key=").concat(i).concat(n));case 3:if(!(r=e.sent).ok){e.next=10;break}return e.next=7,r.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=Promise.reject(new Error("Not found"));case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(){return s("/trending/movie/week")}function m(e){return s("/search/movie","&query=".concat(e))}function d(e){return s("/movie/".concat(e))}function f(e){return s("/movie/".concat(e,"/credits"))}function g(e){return s("/movie/".concat(e,"/reviews"))}},36:function(e,t,n){"use strict";t.a=n.p+"static/media/cinema-movie.5c8f8c5b.jpg"},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(42),a=n(8),c=n(36),i=n(41),o=n.n(i),s=n(1);function u(e){var t=e.movie,n=e.location,i=t.id,u=t.poster_path,l=t.original_title,m=t.vote_average;return Object(s.jsxs)("li",{className:o.a.Item,children:[Object(s.jsxs)(a.b,{className:o.a.Link,to:{pathname:"movies/".concat(i),state:{from:{location:n,label:"back to ".concat("/"===n.pathname?"Home":"/movies"===n.pathname?"Movies":void 0)}}},children:[Object(s.jsx)("img",{alt:"",className:o.a.Image,width:"200px",src:u?"https://image.tmdb.org/t/p/w300".concat(u):c.a}),Object(s.jsx)("p",{className:o.a.Title,children:l})]}),0!==m&&Object(s.jsxs)("p",{className:o.a.Average,children:[Object(s.jsx)(r.a,{}),m]})]})}},41:function(e,t,n){e.exports={Item:"galleryItem_Item__1dJ4G",Image:"galleryItem_Image__A6sJe",Title:"galleryItem_Title__3TudR",Link:"galleryItem_Link__3Io9f",Average:"galleryItem_Average__3WQG7"}},62:function(e,t,n){e.exports={Gallery:"homeView_Gallery__3Ix57"}},67:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n(37),a=n(0),c=n(2),i=n(34),o=n(35),s=n.n(o),u=n(62),l=n.n(u),m=n(40),d=n(1);function f(){var e,t=Object(a.useState)((function(){var e;return null!==(e=JSON.parse(localStorage.getItem("trendingMovies")))&&void 0!==e?e:null})),n=Object(r.a)(t,2),o=n[0],u=n[1],f=Object(a.useState)("idle"),g=Object(r.a)(f,2),v=g[0],p=g[1],b=Object(c.g)(),j=(new Date).toLocaleDateString(),h=null!==(e=JSON.parse(localStorage.getItem("trendingMoviesDate")))&&void 0!==e?e:"";return Object(a.useEffect)((function(){null!==o&&h===j||(p("pending"),i.e().then((function(e){u(e.results),p("resolved"),localStorage.setItem("trendingMovies",JSON.stringify(e.results)),localStorage.setItem("trendingMoviesDate",JSON.stringify(j))})))}),[]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{children:["pending"===v&&Object(d.jsx)(s.a,{type:"ThreeDots",color:"black"}),Object(d.jsx)("ul",{className:l.a.Gallery,children:("resolved"===v||o)&&o.map((function(e){return Object(d.jsx)(m.a,{location:b,movie:e},e.id)}))})]})})}}}]);
//# sourceMappingURL=home-view.0730ecff.chunk.js.map