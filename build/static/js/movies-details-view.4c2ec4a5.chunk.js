(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[4],{34:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return v}));var c=n(37),i=n.n(c),a=n(38),r="9b5febc096912e8933f83f306c054db0",s="https://api.themoviedb.org/3";function o(e){return l.apply(this,arguments)}function l(){return l=Object(a.a)(i.a.mark((function e(t){var n,c,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"",e.next=3,fetch("".concat(s).concat(t,"?api_key=").concat(r).concat(n));case 3:if(!(c=e.sent).ok){e.next=10;break}return e.next=7,c.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=Promise.reject(new Error("Not found"));case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function u(){return o("/trending/movie/week")}function j(e){return o("/search/movie","&query=".concat(e))}function b(e){return o("/movie/".concat(e))}function d(e){return o("/movie/".concat(e,"/credits"))}function v(e){return o("/movie/".concat(e,"/reviews"))}},36:function(e,t,n){"use strict";t.a=n.p+"static/media/cinema-movie.5c8f8c5b.jpg"},63:function(e,t,n){e.exports={Button:"movieDetailsView_Button__27AwM",SubInfoList:"movieDetailsView_SubInfoList__Ks_hs",SubNavBar:"movieDetailsView_SubNavBar__WEkeQ",Link:"movieDetailsView_Link__lEgCh",ActiveLink:"movieDetailsView_ActiveLink__30WMY"}},64:function(e,t,n){e.exports={Card:"movieCard_Card__1CLTb",Image:"movieCard_Image__2Voyt",Title:"movieCard_Title__FAMvi"}},68:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var c=n(14),i=n(0),a=n(2),r=n(7),s=n(34),o=n(16),l=n(35),u=n.n(l),j=n(63),b=n.n(j),d=n(64),v=n.n(d),h=n(36),m=n(1);function f(e){var t=e.movieDetails,n=t.poster_path,c=t.original_title,i=t.vote_average,a=t.overview,r=t.genres;return Object(m.jsxs)("div",{className:v.a.Card,children:[Object(m.jsx)("img",{alt:"",width:"300px",className:v.a.Image,src:n?"https://image.tmdb.org/t/p/w300".concat(n):h.a}),Object(m.jsxs)("div",{className:v.a.InfoList,children:[Object(m.jsx)("h1",{className:v.a.Title,children:c}),Object(m.jsxs)("ul",{children:[i&&Object(m.jsxs)("li",{children:[Object(m.jsx)("h2",{children:"Average"}),Object(m.jsx)("p",{children:i})]}),a&&Object(m.jsxs)("li",{children:[Object(m.jsx)("h2",{children:"Overview"}),Object(m.jsx)("p",{children:a})]}),r&&Object(m.jsxs)("li",{children:[Object(m.jsx)("h2",{children:"Genres"}),Object(m.jsx)("p",{children:r.reduce((function(e,t){return e+" "+t.name}),"")})]})]})]})]})}var O=Object(i.lazy)((function(){return n.e(8).then(n.bind(null,69))})),x=Object(i.lazy)((function(){return n.e(9).then(n.bind(null,66))}));function p(){var e,t,n,l,j,d,v=Object(i.useState)(null),h=Object(c.a)(v,2),p=h[0],_=h[1],g=Object(i.useState)("idle"),w=Object(c.a)(g,2),k=w[0],N=w[1],L=Object(a.i)().movieId,C=Object(a.j)(),y=C.url,I=C.path,S=Object(a.h)(),A=Object(a.g)(),D=null!==(e=null===S||void 0===S||null===(t=S.state)||void 0===t||null===(n=t.from)||void 0===n?void 0:n.location)&&void 0!==e?e:"/movies",B=null!==(l=null===S||void 0===S||null===(j=S.state)||void 0===j||null===(d=j.from)||void 0===d?void 0:d.label)&&void 0!==l?l:"Go back";Object(i.useEffect)((function(){N("pending"),s.b(L).then((function(e){_(e),N("resolved")}))}),[L]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{type:"button",className:b.a.Button,onClick:function(){A.push(D)},children:B}),"pending"===k&&Object(m.jsx)(u.a,{type:"ThreeDots",color:"black"}),"resolved"===k&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{movieDetails:p}),Object(m.jsxs)("div",{className:b.a.SubNavBar,children:[Object(m.jsx)("hr",{}),Object(m.jsx)("h2",{children:"Additional Information"}),Object(m.jsxs)("ul",{className:b.a.SubInfoList,children:[Object(m.jsx)("li",{children:Object(m.jsx)(r.c,{to:{pathname:"".concat(y,"/cast"),state:{from:{location:D,label:B}}},activeClassName:b.a.ActiveLink,className:b.a.Link,exact:!0,children:"Cast"})}),Object(m.jsx)("li",{children:Object(m.jsx)(r.c,{to:{pathname:"".concat(y,"/review"),state:{from:{location:D,label:B}}},activeClassName:b.a.ActiveLink,className:b.a.Link,exact:!0,children:"Reviews"})})]}),Object(m.jsx)("hr",{})]})]}),Object(m.jsx)(i.Suspense,{fallback:Object(m.jsx)(o.a,{}),children:Object(m.jsxs)(a.d,{children:[Object(m.jsx)(a.b,{path:"".concat(I,"/cast"),children:Object(m.jsx)(O,{})}),Object(m.jsx)(a.b,{path:"".concat(I,"/review"),children:Object(m.jsx)(x,{})})]})})]})}}}]);
//# sourceMappingURL=movies-details-view.4c2ec4a5.chunk.js.map